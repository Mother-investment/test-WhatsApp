"use strict";(self.webpackChunktest_whatsapp=self.webpackChunktest_whatsapp||[]).push([[796],{796:(e,t,n)=>{n.r(t),n.d(t,{default:()=>pe});var a=n(893),r=n(676);const s={HeaderMenuPanel:"eNWa1gUK",menuBar:"XT7Tz1z4",menuBar__item:"fkAEt7et",menuBar__btn:"VIYjyP60",settings__item:"buCRg72j",settings__btn:"Rmvxms7B"};var c,i=n(294);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}const l=function(e){return i.createElement("svg",o({xmlSpace:"preserve",width:24,height:24},e),c||(c=i.createElement("path",{fill:"currentColor",d:"M12 7a2 2 0 1 0-.001-4.001A2 2 0 0 0 12 7zm0 2a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 9zm0 6a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 15z"})))};var u=n(201);var f=function(){return f=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},f.apply(this,arguments)},h=(0,i.memo)((function(e){var t,n=e.className,s=e.children,c=e.isOpen,o=e.onClose,l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["className","children","isOpen","onClose"]),u=(0,i.useRef)(),h=(0,i.useRef)(),p=(0,i.useState)(!1),v=p[0],m=p[1],d=(0,i.useState)(!1),g=d[0],j=d[1],y=(0,i.useCallback)((function(){m(!0)}),[]),b=(0,i.useCallback)((function(){j(!0),h.current=setTimeout((function(){o(),j(!1)}),100)}),[o]),x=(0,i.useCallback)((function(e){"Escape"===e.key&&b()}),[b]),O=(0,i.useCallback)((function(e){var t,n=e.target;u.current&&!(null===(t=u.current)||void 0===t?void 0:t.contains(n))&&b()}),[b]);(0,i.useEffect)((function(){c&&y()}),[c,y]),(0,i.useEffect)((function(){return y(),window.addEventListener("keydown",x),document.addEventListener("mouseup",O),function(){clearTimeout(h.current),document.removeEventListener("mouseup",O),window.removeEventListener("keydown",x)}}),[b,x,y,O]);var N=((t={}).osPttgxz=v,t.QW7r3Z2O=g,t);return(0,a.jsx)("div",f({className:(0,r.A)("gchdh82u",N,[n])},l,{ref:u},{children:s}))})),p=n(91),v=n(335),m=function(){return m=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},m.apply(this,arguments)},d=function(e){var t=e.className,n=(0,p.T)(),c=(0,i.useState)(!1),o=c[0],f=c[1],d=(0,i.useCallback)((function(){f(!0)}),[]),g=(0,i.useCallback)((function(){f(!1)}),[]),j=(0,i.useCallback)((function(){n(v.BK.logout())}),[n]);return(0,a.jsxs)("div",m({className:(0,r.A)(s.HeaderMenuPanel,{},[t])},{children:[(0,a.jsx)("div",{className:s.avatar}),(0,a.jsx)("nav",m({className:s.menuBar},{children:(0,a.jsxs)("div",m({className:s.menuBar__item},{children:[(0,a.jsx)(u.z,m({className:s.menuBar__btn,onClick:d,active:o,icon:!0},{children:(0,a.jsx)(l,{})})),o&&(0,a.jsx)(h,m({className:s.settings,isOpen:o,onClose:g},{children:(0,a.jsx)("ul",m({className:s.settings__list},{children:(0,a.jsx)("li",m({className:s.settings__item},{children:(0,a.jsx)(u.z,m({className:s.settings__btn,clear:!0,onClick:j},{children:"Выйти"}))}))}))}))]}))}))]}))};var g=function(e){return null==e?void 0:e.chats.chatsData},j=n(998);const y={btn:"FaPFk12R",avatar:"tlCmH7hD",info:"meOhdN5B",info__header:"MTUi3zfC"};var b,x,O=n(908);function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},N.apply(this,arguments)}const w=function(e){return i.createElement("svg",N({xmlSpace:"preserve",width:49,height:49,className:"avatarIcon_svg__ln8gz9je avatarIcon_svg__ppled2lx",viewBox:"0 0 212 212"},e),b||(b=i.createElement("path",{fill:"#DFE5E7",d:"M106.251.5C164.653.5 212 47.846 212 106.25S164.653 212 106.25 212C47.846 212 .5 164.654.5 106.25S47.846.5 106.251.5z",className:"avatarIcon_svg__background"})),x||(x=i.createElement("g",{fill:"#FFF"},i.createElement("path",{d:"M173.561 171.615a62.767 62.767 0 0 0-2.065-2.955 67.7 67.7 0 0 0-2.608-3.299 70.112 70.112 0 0 0-3.184-3.527 71.097 71.097 0 0 0-5.924-5.47 72.458 72.458 0 0 0-10.204-7.026 75.2 75.2 0 0 0-5.98-3.055c-.062-.028-.118-.059-.18-.087-9.792-4.44-22.106-7.529-37.416-7.529s-27.624 3.089-37.416 7.529c-.338.153-.653.318-.985.474a75.37 75.37 0 0 0-6.229 3.298 72.589 72.589 0 0 0-9.15 6.395 71.243 71.243 0 0 0-5.924 5.47 70.064 70.064 0 0 0-3.184 3.527 67.142 67.142 0 0 0-2.609 3.299 63.292 63.292 0 0 0-2.065 2.955 56.33 56.33 0 0 0-1.447 2.324c-.033.056-.073.119-.104.174a47.92 47.92 0 0 0-1.07 1.926c-.559 1.068-.818 1.678-.818 1.678v.398c18.285 17.927 43.322 28.985 70.945 28.985 27.678 0 52.761-11.103 71.055-29.095v-.289s-.619-1.45-1.992-3.778a58.346 58.346 0 0 0-1.446-2.322zM106.002 125.5c2.645 0 5.212-.253 7.68-.737a38.272 38.272 0 0 0 3.624-.896 37.124 37.124 0 0 0 5.12-1.958 36.307 36.307 0 0 0 6.15-3.67 35.923 35.923 0 0 0 9.489-10.48 36.558 36.558 0 0 0 2.422-4.84 37.051 37.051 0 0 0 1.716-5.25c.299-1.208.542-2.443.725-3.701.275-1.887.417-3.827.417-5.811s-.142-3.925-.417-5.811a38.734 38.734 0 0 0-1.215-5.494 36.68 36.68 0 0 0-3.648-8.298 35.923 35.923 0 0 0-9.489-10.48 36.347 36.347 0 0 0-6.15-3.67 37.124 37.124 0 0 0-5.12-1.958 37.67 37.67 0 0 0-3.624-.896 39.875 39.875 0 0 0-7.68-.737c-21.162 0-37.345 16.183-37.345 37.345 0 21.159 16.183 37.342 37.345 37.342z",className:"avatarIcon_svg__primary"}))))};var _=function(){return _=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},_.apply(this,arguments)},C=function(e){var t,n,s,c,o,l,f,h,v,m,d=e.className,g=e.chatData,j=(0,p.T)(),b=null===(t=g.messages[0])||void 0===t?void 0:t.timestamp,x=b?(s=b,c=new Date,o=new Date(1e3*s),l=c.getDate(),f=c.getMonth()+1,h=c.getFullYear(),m=l-1===(v={minutes:o.getMinutes(),hours:o.getHours(),day:o.getDate(),month:o.getMonth()+1,year:o.getFullYear()}).day&&f===v.month&&h===v.year,l===v.day&&f===v.month&&h===v.year?"".concat(v.hours,":").concat(0===v.minutes?"00":v.minutes<10?"0"+v.minutes:v.minutes):m?"Вчера":"".concat(v.day,"/").concat(v.month,"/").concat(v.year)):"",N=(0,i.useCallback)((function(){j(O.YR.openChat(g))}),[g,j]);return(0,a.jsx)("li",_({className:(0,r.A)(y.ChatItem,{},[d])},{children:(0,a.jsxs)(u.z,_({className:y.btn,onClick:N,clear:!0},{children:[(0,a.jsx)("div",_({className:y.avatar},{children:(0,a.jsx)(w,{})})),(0,a.jsxs)("div",_({className:y.info},{children:[(0,a.jsxs)("div",_({className:y.info__header},{children:[(0,a.jsx)("h3",_({className:y.info__tel},{children:g.tel})),g.messages.length>0&&(0,a.jsx)("span",_({className:y.info__time},{children:x}))]})),g.messages.length>0&&(0,a.jsx)("p",_({className:y.info__lastMessage},{children:null===(n=g.messages[0])||void 0===n?void 0:n.textMessage}))]}))]}))}))},P=n(633),E=n(644),k=(0,P.hg)("receiveNotification/receiveNotification",(function(e,t){return n=void 0,a=void 0,s=function(){return function(e,t){var n,a,r,s,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(c=0)),c;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,a=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,(function(n){return setInterval((function(){(0,t.dispatch)((0,E.W)(e))}),4e3),[2]}))},new((r=void 0)||(r=Promise))((function(e,t){function c(e){try{o(s.next(e))}catch(e){t(e)}}function i(e){try{o(s.throw(e))}catch(e){t(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(c,i)}o((s=s.apply(n,a||[])).next())}));var n,a,r,s})),z=n(946),M=function(){return M=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},M.apply(this,arguments)},S=function(e){var t=e.className,n=(0,p.T)(),s=(0,j.v9)(g),c=(0,j.v9)(z.nr);return(0,i.useEffect)((function(){c&&n(k(c))}),[c,n]),s&&s.length>0?(0,a.jsx)("ul",M({className:(0,r.A)("DLyvJU_9",{},[t])},{children:null==s?void 0:s.map((function(e){return(0,a.jsx)(C,{chatData:e},e.tel)}))})):(0,a.jsx)(a.Fragment,{})};const A="RjiPq9gg";var D;function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},H.apply(this,arguments)}const I=function(e){return i.createElement("svg",H({xmlSpace:"preserve",width:20,height:20,viewBox:"0 0 24 24"},e),D||(D=i.createElement("path",{fill:"currentColor",d:"M10 18.1h4v-2h-4v2zm-7-12v2h18v-2H3zm3 7h12v-2H6v2z"})))};var B;function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},F.apply(this,arguments)}const T=function(e){return i.createElement("svg",F({xmlSpace:"preserve",width:24,height:24},e),B||(B=i.createElement("path",{fill:"currentColor",d:"M15.009 13.805h-.636l-.22-.219a5.184 5.184 0 0 0 1.256-3.386 5.207 5.207 0 1 0-5.207 5.208 5.183 5.183 0 0 0 3.385-1.255l.221.22v.635l4.004 3.999 1.194-1.195-3.997-4.007zm-4.808 0a3.605 3.605 0 1 1 0-7.21 3.605 3.605 0 0 1 0 7.21z"})))};var R=n(646),V=n(226),K=function(){return K=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},K.apply(this,arguments)},L=function(e){var t=e.className,n=(0,p.T)(),s=(0,i.useState)(""),c=s[0],o=s[1],l=(0,j.v9)(z.nr),f=(0,i.useCallback)((function(){11===c.length&&l&&(n((0,V.v0)({authData:l,tel:c})),o(""))}),[l,n,c]);return(0,a.jsxs)("div",K({className:(0,r.A)("PpTs4KKF",{},[t])},{children:[(0,a.jsx)(R.I,{className:"SGdoRncj",tel:!0,value:c,onChange:o,theme:"secondary",placeholder:"Найти или начать новый чат"}),11===c.length?(0,a.jsx)(u.z,K({className:A,icon:!0,onClick:f},{children:(0,a.jsx)(T,{})})):(0,a.jsx)(u.z,K({className:A,icon:!0},{children:(0,a.jsx)(I,{className:"MNTcwO2o"})}))]}))},U=function(){return U=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},U.apply(this,arguments)},Y=function(e){var t=e.className;return(0,a.jsxs)("div",U({className:(0,r.A)("OECDdknR",{},[t])},{children:[(0,a.jsx)(L,{}),(0,a.jsx)(S,{})]}))},G=function(){return G=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},G.apply(this,arguments)},J=function(e){var t=e.className;return(0,a.jsxs)("div",G({className:(0,r.A)("j7Zb7imC",{},[t])},{children:[(0,a.jsx)(d,{}),(0,a.jsx)(Y,{})]}))};var W=function(e){var t=e.className;return(0,a.jsx)("div",{className:(0,r.A)("f0c0Pz2n",{},[t])})},Z=n(217);const X={MessageItem:"H2R1JJnA",main:"yUxVVV3U",time:"dPZlyx7F",outgoing:"IeL8UyVs",indent:"dfSGl748",incoming:"BowCVSeN"};var Q,q;function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$.apply(this,arguments)}const ee=function(e){return i.createElement("svg",$({xmlSpace:"preserve",width:8,height:13},e),Q||(Q=i.createElement("path",{fill:"#202c33",d:"M1.533 3.568 8 12.193V1H2.812C1.042 1 .474 2.156 1.533 3.568z",opacity:.13})),q||(q=i.createElement("path",{fill:"#202c33",d:"M1.533 2.568 8 11.193V0H2.812C1.042 0 .474 1.156 1.533 2.568z"})))};var te,ne;function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ae.apply(this,arguments)}const re=function(e){return i.createElement("svg",ae({xmlSpace:"preserve",width:8,height:13},e),te||(te=i.createElement("path",{d:"M5.188 1H0v11.193l6.467-8.625C7.526 2.156 6.958 1 5.188 1z",opacity:.13})),ne||(ne=i.createElement("path",{fill:"#005c4b",d:"M5.188 0H0v11.193l6.467-8.625C7.526 1.156 6.958 0 5.188 0z"})))};var se=function(){return se=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},se.apply(this,arguments)},ce=function(e){var t=e.className,n=e.messageData,s=n.type,c=new Date(1e3*n.timestamp);return(0,a.jsxs)("div",se({className:(0,r.A)(X.MessageItem,{},[t,X[s]])},{children:[(0,a.jsx)("span",{children:"incoming"===s&&(0,a.jsx)(ee,{})}),(0,a.jsxs)("div",se({className:X.main},{children:[(0,a.jsx)("p",se({className:X.text},{children:n.textMessage})),(0,a.jsx)("span",{className:X.indent}),(0,a.jsx)("span",se({className:X.time},{children:"".concat(c.getHours(),":").concat(0===c.getMinutes()?"0":c.getMinutes()<10?"0"+c.getMinutes():c.getMinutes())}))]})),(0,a.jsx)("span",{children:"outgoing"===s&&(0,a.jsx)(re,{})})]}))},ie=n(849),oe=function(){return oe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},oe.apply(this,arguments)},le=function(e){var t=e.className,n=(0,j.v9)(ie.b),s=(0,j.v9)(g).find((function(e){return e.tel===n}));return s&&s.messages.length>0?(0,a.jsx)("ul",oe({className:(0,r.A)("rJ6CQPXY",{},[t])},{children:null==s?void 0:s.messages.map((function(e){return(0,a.jsx)(ce,{messageData:e},e.timestamp)}))})):(0,a.jsx)(a.Fragment,{})},ue=function(){return ue=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ue.apply(this,arguments)},fe=function(e){var t=e.className;return(0,a.jsxs)("div",ue({className:(0,r.A)("OsV06O_K",{},[t])},{children:[(0,a.jsx)(W,{}),(0,a.jsx)(le,{}),(0,a.jsx)("footer",ue({className:"Hyb2SufX"},{children:(0,a.jsx)(Z.Wt,{})}))]}))},he=function(){return he=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},he.apply(this,arguments)};const pe=function(){return(0,a.jsxs)("main",he({className:(0,r.A)("sdKIpzsO",{},[])},{children:[(0,a.jsx)(J,{className:"O0hGg1VZ"}),(0,a.jsx)(fe,{className:"s0pRVzyK"})]}))}}}]);